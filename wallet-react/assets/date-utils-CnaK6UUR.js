var k;(function(e){e.HEADER="header",e.QUERY="query"})(k||(k={}));var O;(function(e){e.HEADER="header",e.QUERY="query"})(O||(O={}));var j;(function(e){e.HTTP="http",e.HTTPS="https"})(j||(j={}));var F;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(F||(F={}));var z;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(z||(z={}));var _;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(_||(_={}));var q;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(q||(q={}));class L{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){const r=new L({...t,headers:{...t.headers}});return r.query&&(r.query=re(r.query)),r}static isInstance(t){if(!t)return!1;const r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return L.clone(this)}}function re(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}class V{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}const ne=(e,t)=>(r,n)=>async o=>{var a,f,d,s;const{response:c}=await r(o);try{const i=await t(c,e);return{response:c,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:c}),!("$metadata"in i)){const u="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+u}catch{!n.logger||((f=(a=n.logger)==null?void 0:a.constructor)==null?void 0:f.name)==="NoOpLogger"?console.warn(u):(s=(d=n.logger)==null?void 0:d.warn)==null||s.call(d,u)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}},oe=(e,t)=>(r,n)=>async o=>{var f;const c=(f=n.endpointV2)!=null&&f.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!c)throw new Error("No valid endpoint provider available.");const a=await t(o.input,{...e,endpoint:c});return r({...o,request:a})},se={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},G={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Le(e,t,r){return{applyToStack:n=>{n.add(ne(e,r),se),n.add(oe(e,t),G)}}}G.name;const Pe=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},p={},T=new Array(64);for(let e=0,t=65,r=90;e+t<=r;e++){const n=String.fromCharCode(e+t);p[n]=e,T[e]=n}for(let e=0,t=97,r=122;e+t<=r;e++){const n=String.fromCharCode(e+t),o=e+26;p[n]=o,T[o]=n}for(let e=0;e<10;e++){p[e.toString(10)]=e+52;const t=e.toString(10),r=e+52;p[t]=r,T[r]=t}p["+"]=62;T[62]="+";p["/"]=63;T[63]="/";const E=6,A=8,ie=63,ce=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const r=new ArrayBuffer(t),n=new DataView(r);for(let o=0;o<e.length;o+=4){let c=0,a=0;for(let s=o,i=o+3;s<=i;s++)if(e[s]!=="="){if(!(e[s]in p))throw new TypeError(`Invalid character ${e[s]} in base64 string.`);c|=p[e[s]]<<(i-s)*E,a+=E}else c>>=E;const f=o/4*3;c>>=a%A;const d=Math.floor(a/A);for(let s=0;s<d;s++){const i=(d-s-1)*A;n.setUint8(f+s,(c&255<<i)>>i)}}return new Uint8Array(r)},ae=e=>new TextEncoder().encode(e),Be=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function De(e){let t;typeof e=="string"?t=ae(e):t=e;const r=typeof t=="object"&&typeof t.length=="number",n=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let o="";for(let c=0;c<t.length;c+=3){let a=0,f=0;for(let s=c,i=Math.min(c+3,t.length);s<i;s++)a|=t[s]<<(i-s-1)*A,f+=A;const d=Math.ceil(f/E);a<<=d*E-f;for(let s=1;s<=d;s++){const i=(d-s)*E;o+=T[(a&ie<<i)>>i]}o+="==".slice(0,4-d)}return o}const N=e=>encodeURIComponent(e).replace(/[!'()*]/g,fe),fe=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function de(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=N(r),Array.isArray(n))for(let o=0,c=n.length;o<c;o++)t.push(`${r}=${N(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${N(n)}`),t.push(o)}}return t.join("&")}function Z(e,t){return new Request(e,t)}function he(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}const I={supported:void 0};class J{static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new J(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),I.supported===void 0&&(I.supported=typeof Request<"u"&&"keepalive"in Z("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r}={}){var U;this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,o=this.config.keepAlive===!0,c=this.config.credentials;if(r!=null&&r.aborted){const h=new Error("Request aborted");return h.name="AbortError",Promise.reject(h)}let a=t.path;const f=de(t.query||{});f&&(a+=`?${f}`),t.fragment&&(a+=`#${t.fragment}`);let d="";if(t.username!=null||t.password!=null){const h=t.username??"",$=t.password??"";d=`${h}:${$}@`}const{port:s,method:i}=t,u=`${t.protocol}//${d}${t.hostname}${s?`:${s}`:""}${a}`,y=i==="GET"||i==="HEAD"?void 0:t.body,l={body:y,headers:new Headers(t.headers),method:i,credentials:c};(U=this.config)!=null&&U.cache&&(l.cache=this.config.cache),y&&(l.duplex="half"),typeof AbortController<"u"&&(l.signal=r),I.supported&&(l.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(l,this.config.requestInit(t));let w=()=>{};const te=Z(u,l),M=[fetch(te).then(h=>{const $=h.headers,g={};for(const R of $.entries())g[R[0]]=R[1];return h.body!=null?{response:new V({headers:g,reason:h.statusText,statusCode:h.status,body:h.body})}:h.blob().then(R=>({response:new V({headers:g,reason:h.statusText,statusCode:h.status,body:R})}))}),he(n)];return r&&M.push(new Promise((h,$)=>{const g=()=>{const b=new Error("Request aborted");b.name="AbortError",$(b)};if(typeof r.addEventListener=="function"){const b=r;b.addEventListener("abort",g,{once:!0}),w=()=>b.removeEventListener("abort",g)}else r.onabort=g})),Promise.race(M).finally(w)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}}const He=async e=>{var t;return typeof Blob=="function"&&e instanceof Blob||((t=e.constructor)==null?void 0:t.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):ue(e):le(e)};async function ue(e){const t=await pe(e),r=ce(t);return new Uint8Array(r)}async function le(e){const t=[],r=e.getReader();let n=!1,o=0;for(;!n;){const{done:f,value:d}=await r.read();d&&(t.push(d),o+=d.length),n=f}const c=new Uint8Array(o);let a=0;for(const f of t)c.set(f,a),a+=f.length;return c}function pe(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const o=n.result??"",c=o.indexOf(","),a=c>-1?c+1:o.length;t(o.substring(a))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}const K={},P={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),K[e]=t,P[t]=e}function Me(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(n in P)t[r/2]=P[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function Ue(e){let t="";for(let r=0;r<e.byteLength;r++)t+=K[e[r]];return t}const ke=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&S.warn(C(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const t=e.toLowerCase();if((t==="false"||t==="true")&&S.warn(C(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},B=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&S.warn(C(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},ye=Math.ceil(2**127*(2-2**-23)),Q=e=>{const t=B(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>ye)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},ge=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},W=e=>D(e,32),X=e=>D(e,16),Y=e=>D(e,8),D=(e,t)=>{const r=ge(e);if(r!==void 0&&me(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},me=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Oe=(e,t)=>{if(e==null)throw new TypeError("Expected a non-null value");return e},je=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return S.warn(C(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},we=e=>B(typeof e=="string"?x(e):e),be=e=>Q(typeof e=="string"?x(e):e),Ee=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,x=e=>{const t=e.match(Ee);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Fe=e=>W(typeof e=="string"?x(e):e),v=e=>X(typeof e=="string"?x(e):e),Te=e=>Y(typeof e=="string"?x(e):e),C=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),S={warn:console.warn},$e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ae=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),ze=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=Ae.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,o,c,a,f,d,s]=t,i=v(H(n)),u=m(o,"month",1,12),y=m(c,"day",1,31);return ee(i,u,y,{hours:a,minutes:f,seconds:d,fractionalMilliseconds:s})},xe=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),_e=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=xe.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,o,c,a,f,d,s,i]=t,u=v(H(n)),y=m(o,"month",1,12),l=m(c,"day",1,31),w=ee(u,y,l,{hours:a,minutes:f,seconds:d,fractionalMilliseconds:s});return i.toUpperCase()!="Z"&&w.setTime(w.getTime()-Ie(i)),w},qe=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=we(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},ee=(e,t,r,n)=>{const o=t-1;return Ce(e,o,r),new Date(Date.UTC(e,o,r,m(n.hours,"hour",0,23),m(n.minutes,"minute",0,59),m(n.seconds,"seconds",0,60),Ne(n.fractionalMilliseconds)))},Re=[31,28,31,30,31,30,31,31,30,31,30,31],Ce=(e,t,r)=>{let n=Re[t];if(t===1&&Se(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${$e[t]} in ${e}: ${r}`)},Se=e=>e%4===0&&(e%100!==0||e%400===0),m=(e,t,r,n)=>{const o=Te(H(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},Ne=e=>e==null?0:be("0."+e)*1e3,Ie=e=>{const t=e[0];let r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},H=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};export{F as A,j as E,J as F,L as H,Ue as a,Be as b,ce as c,ke as d,je as e,ae as f,Le as g,W as h,Oe as i,qe as j,B as k,V as l,N as m,Pe as n,Me as o,ze as p,G as q,Fe as r,He as s,De as t,_e as u};
