var M;(function(t){t.HEADER="header",t.QUERY="query"})(M||(M={}));var k;(function(t){t.HEADER="header",t.QUERY="query"})(k||(k={}));var F;(function(t){t.HTTP="http",t.HTTPS="https"})(F||(F={}));var _;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(_||(_={}));var q;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(q||(q={}));var V;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(V||(V={}));var W;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(W||(W={}));class I{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const r=new I({...e,headers:{...e.headers}});return r.query&&(r.query=et(r.query)),r}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return I.clone(this)}}function et(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}class Z{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}const l={},E=new Array(64);for(let t=0,e=65,r=90;t+e<=r;t++){const n=String.fromCharCode(t+e);l[n]=t,E[t]=n}for(let t=0,e=97,r=122;t+e<=r;t++){const n=String.fromCharCode(t+e),o=t+26;l[n]=o,E[o]=n}for(let t=0;t<10;t++){l[t.toString(10)]=t+52;const e=t.toString(10),r=t+52;l[e]=r,E[r]=e}l["+"]=62;E[62]="+";l["/"]=63;E[63]="/";const w=6,$=8,rt=63,nt=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const r=new ArrayBuffer(e),n=new DataView(r);for(let o=0;o<t.length;o+=4){let i=0,c=0;for(let s=o,f=o+3;s<=f;s++)if(t[s]!=="="){if(!(t[s]in l))throw new TypeError(`Invalid character ${t[s]} in base64 string.`);i|=l[t[s]]<<(f-s)*w,c+=w}else i>>=w;const d=o/4*3;i>>=c%$;const a=Math.floor(c/$);for(let s=0;s<a;s++){const f=(a-s-1)*$;n.setUint8(d+s,(i&255<<f)>>f)}}return new Uint8Array(r)},ot=t=>new TextEncoder().encode(t),Rt=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function St(t){let e;typeof t=="string"?e=ot(t):e=t;const r=typeof e=="object"&&typeof e.length=="number",n=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let o="";for(let i=0;i<e.length;i+=3){let c=0,d=0;for(let s=i,f=Math.min(i+3,e.length);s<f;s++)c|=e[s]<<(f-s-1)*$,d+=$;const a=Math.ceil(d/w);c<<=a*w-d;for(let s=1;s<=a;s++){const f=(a-s)*w;o+=E[(c&rt<<f)>>f]}o+="==".slice(0,4-a)}return o}const N=t=>encodeURIComponent(t).replace(/[!'()*]/g,st),st=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function it(t){const e=[];for(let r of Object.keys(t).sort()){const n=t[r];if(r=N(r),Array.isArray(n))for(let o=0,i=n.length;o<i;o++)e.push(`${r}=${N(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${N(n)}`),e.push(o)}}return e.join("&")}function ct(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{const n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}const H={supported:void 0};class G{static create(e){return typeof(e==null?void 0:e.handle)=="function"?e:new G(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),H.supported===void 0&&(H.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r}={}){var j;this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r!=null&&r.aborted){const h=new Error("Request aborted");return h.name="AbortError",Promise.reject(h)}let c=e.path;const d=it(e.query||{});d&&(c+=`?${d}`),e.fragment&&(c+=`#${e.fragment}`);let a="";if(e.username!=null||e.password!=null){const h=e.username??"",x=e.password??"";a=`${h}:${x}@`}const{port:s,method:f}=e,T=`${e.protocol}//${a}${e.hostname}${s?`:${s}`:""}${c}`,g=f==="GET"||f==="HEAD"?void 0:e.body,u={body:g,headers:new Headers(e.headers),method:f,credentials:i};(j=this.config)!=null&&j.cache&&(u.cache=this.config.cache),g&&(u.duplex="half"),typeof AbortController<"u"&&(u.signal=r),H.supported&&(u.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(u,this.config.requestInit(e));let m=()=>{};const tt=new Request(T,u),U=[fetch(tt).then(h=>{const x=h.headers,p={};for(const C of x.entries())p[C[0]]=C[1];return h.body!=null?{response:new Z({headers:p,reason:h.statusText,statusCode:h.status,body:h.body})}:h.blob().then(C=>({response:new Z({headers:p,reason:h.statusText,statusCode:h.status,body:C})}))}),ct(n)];return r&&U.push(new Promise((h,x)=>{const p=()=>{const b=new Error("Request aborted");b.name="AbortError",x(b)};if(typeof r.addEventListener=="function"){const b=r;b.addEventListener("abort",p,{once:!0}),m=()=>b.removeEventListener("abort",p)}else r.onabort=p})),Promise.race(U).finally(m)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}}const Nt=t=>typeof Blob=="function"&&t instanceof Blob?ft(t):at(t);async function ft(t){const e=await dt(t),r=nt(e);return new Uint8Array(r)}async function at(t){const e=[],r=t.getReader();let n=!1,o=0;for(;!n;){const{done:d,value:a}=await r.read();a&&(e.push(a),o+=a.length),n=d}const i=new Uint8Array(o);let c=0;for(const d of e)i.set(d,c),c+=d.length;return i}function dt(t){return new Promise((e,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const o=n.result??"",i=o.indexOf(","),c=i>-1?i+1:o.length;e(o.substring(c))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}const J={},L={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),J[t]=e,L[e]=t}function Ht(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){const n=t.slice(r,r+2).toLowerCase();if(n in L)e[r/2]=L[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function It(t){let e="";for(let r=0;r<t.byteLength;r++)e+=J[t[r]];return e}const Lt=t=>{if(t!=null){if(typeof t=="number"){if((t===0||t===1)&&S.warn(R(`Expected boolean, got ${typeof t}: ${t}`)),t===0)return!1;if(t===1)return!0}if(typeof t=="string"){const e=t.toLowerCase();if((e==="false"||e==="true")&&S.warn(R(`Expected boolean, got ${typeof t}: ${t}`)),e==="false")return!1;if(e==="true")return!0}if(typeof t=="boolean")return t;throw new TypeError(`Expected boolean, got ${typeof t}: ${t}`)}},D=t=>{if(t!=null){if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&S.warn(R(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},ht=Math.ceil(2**127*(2-2**-23)),z=t=>{const e=D(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>ht)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},ut=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},Q=t=>O(t,32),X=t=>O(t,16),Y=t=>O(t,8),O=(t,e)=>{const r=ut(t);if(r!==void 0&&lt(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},lt=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},Dt=(t,e)=>{if(t==null)throw new TypeError("Expected a non-null value");return t},Pt=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return S.warn(R(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},pt=t=>D(typeof t=="string"?A(t):t),yt=t=>z(typeof t=="string"?A(t):t),gt=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,A=t=>{const e=t.match(gt);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},Ot=t=>Q(typeof t=="string"?A(t):t),K=t=>X(typeof t=="string"?A(t):t),mt=t=>Y(typeof t=="string"?A(t):t),R=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),S={warn:console.warn},bt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wt=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Bt=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const e=wt.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,o,i,c,d,a,s]=e,f=K(B(n)),T=y(o,"month",1,12),g=y(i,"day",1,31);return v(f,T,g,{hours:c,minutes:d,seconds:a,fractionalMilliseconds:s})},Et=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Ut=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const e=Et.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,o,i,c,d,a,s,f]=e,T=K(B(n)),g=y(o,"month",1,12),u=y(i,"day",1,31),m=v(T,g,u,{hours:c,minutes:d,seconds:a,fractionalMilliseconds:s});return f.toUpperCase()!="Z"&&m.setTime(m.getTime()-Ct(f)),m},jt=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=pt(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},v=(t,e,r,n)=>{const o=e-1;return xt(t,o,r),new Date(Date.UTC(t,o,r,y(n.hours,"hour",0,23),y(n.minutes,"minute",0,59),y(n.seconds,"seconds",0,60),At(n.fractionalMilliseconds)))},Tt=[31,28,31,30,31,30,31,31,30,31,30,31],xt=(t,e,r)=>{let n=Tt[e];if(e===1&&$t(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${bt[e]} in ${t}: ${r}`)},$t=t=>t%4===0&&(t%100!==0||t%400===0),y=(t,e,r,n)=>{const o=mt(B(t));if(o<r||o>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return o},At=t=>t==null?0:yt("0."+t)*1e3,Ct=t=>{const e=t[0];let r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);const n=Number(t.substring(1,3)),o=Number(t.substring(4,6));return r*(n*60+o)*60*1e3},B=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)},P=function(){const t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};P.prototype=Object.create(String.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(P,String);export{_ as A,F as E,G as F,I as H,It as a,Rt as b,ot as c,Dt as d,Pt as e,nt as f,jt as g,D as h,Lt as i,Q as j,Z as k,N as l,Ht as m,Ot as n,Ut as o,Bt as p,Nt as s,St as t};
