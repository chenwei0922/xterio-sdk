import{as as m,at as v,au as E,H as A,e as C,F as g,r as c,av as I,aw as u,i as P,o as D}from"./index-CHt3rxXl.js";var H=()=>{let{provider:r}=m(),{wallet:o}=v(),{openAccountAndSecurity:s}=E(),{modalOptions:e}=A(),{connected:d}=C(),{walletEntryPlugin:t}=g(),i=c.useCallback(async a=>{if(a==="open-account-and-security")s();else if(a==="get-user-info")return I()},[s]);return c.useEffect(()=>{var a,p,w;if(e.wallet!==!1&&t){let h={...e.wallet,erc4337:e.erc4337,language:e.language,customStyle:{...e.customStyle,supportChains:(a=e.chains)==null?void 0:a.map(l=>{var n;return{id:l.id,name:l.name,chainType:((n=l==null?void 0:l.custom)==null?void 0:n.chainType)||"evm"}})}};t.init({projectId:e.projectId,clientKey:e.clientKey,appId:e.appId},h);let f=()=>{t.walletEntryCreate()},y=()=>{t.walletEntryDestroy()};return typeof window<"u"&&((p=window.particleAuth)==null||p.on(u.ParticleAuthDisconnect,y),(w=window.particleAuth)==null||w.on(u.ParticleAuthConnect,f)),P()&&(t.setWalletCore({ethereum:r,solana:o,customEventHandler:i}),t.walletEntryCreate()),()=>{var l,n;typeof window<"u"&&((l=window.particleAuth)==null||l.off(u.ParticleAuthDisconnect,y),(n=window.particleAuth)==null||n.off(u.ParticleAuthConnect,f))}}},[e,r,o,i,t]),c.useEffect(()=>{d&&e.wallet!==!1&&t&&t.setWalletCore({ethereum:r,solana:o,customEventHandler:i})},[d,r,o,e.wallet,i,t]),D.createElement("div",{id:"auth-core-modal-wallet-plugin",style:{display:"none"}},"Wallet Plugin")},S=H;export{S as default};
